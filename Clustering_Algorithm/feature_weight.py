import numpy as np
from sklearn.metrics import pairwise_distances
from data.get_pressure_data import *


def weighted_euclidean(X, V, weights):
    distance = X - V
    return np.sqrt(np.sum((distance * weights) ** 2))


w = np.array(
    [[0.38, 0.403, 0.431, 0.467, 0.887, 0.16, 0.075, 0.252, 0.741, 0.873, 0.683, 0.506, 0.124, 0.103, 0.242, 0.231,
      0.405, 0.37, 0.14
         , 0.027, 0., 0., 0.09, 0.363, 0.641, 0.902, 0.837, 0.533, 0., 0.049, 0.247, 0.419, 0.17, 0.378, 0.115, 0.297,
      0.348
         , 0.353, 0.425, 0.307, 0.191, 0.339, 0.492, 0.475, 0.56, 0.314, 0.84, 0.156, 0.292
         , 0.307, 0.162, 0., 0., 0.07, 0.365, 0.219, 0.421, 0.223, 0., 0.276, 0.578, 0.569, 0.627, 0.863, 0.389, 0.313,
      0.126
         , 0.048, 0.322, 0.428, 0., 0.14, 0.381, 0.31, 0.479, 0.311, 0., 0.106, 0.524, 1., 0.441, 0.531, 0.262, 0.218,
      0.35
         , 0.437, 0.56, 0.257, 0.388, 0.316, 0.338, 0.597, 0.57, 0.451, 0.211, 0.283, 0.383, 0.335
         , 0.458, 0., 0.302, 0.644, 0., 0.355, 0.42, 0.491, 0.204, 0.417, 0.399, 0.659, 0.775, 0.258, 0.135, 0.248,
      0.228, 0.121
         , 0.168, 0., 0.15, 0.09, 0.244, 0.384, 0.022, 0., 0.084, 0., 0.186, 0.321, 0.916, 0.546, 0.217, 0.165, 0.248,
      0.314
         , 0.415, 0.548, 0.113, 0.382, 0.37, 0.718, 0.56, 0.335, 0., 0.217, 0.345, 0.319, 0.334
         , 0.109, 0.281, 0.54, 0.45, 0.362, 0.259, 0., 0.061, 0.259, 0.493, 0.624, 0.682, 0.766, 0.428, 0.21, 0., 0., 0.
         , 0.217, 0., 0.114, 0.493]])
print(w.shape)
weighted_distance = pairwise_distances(X_normalized, X_normalized, metric=weighted_euclidean, **{"weights": w})
print(weighted_distance.shape)
